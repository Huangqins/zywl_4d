(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d31"],{2977:function(t,e,a){"use strict";var s=a("b6e6"),n=a.n(s);n.a},"7f7f":function(t,e,a){var s=a("86cc").f,n=Function.prototype,l=/^\s*function ([^ (]*)/,r="name";r in n||a("9e1e")&&s(n,r,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(t){return""}}})},9406:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"homePage"},[a("div",{staticClass:"outsideInfo"},[a("div",[t._v("外部资讯:")]),a("div",[t._v(t._s(t.outsideInfo))]),a("div",[t._v("更多...")])]),a("div",{staticClass:"sectionOne"},[a("div",{staticClass:"sectionOne-left"},[a("panel",[a("div",{staticClass:"deviceType"})])],1),a("div",{staticClass:"sectionOne-state"},[a("panel",[a("div",{staticClass:"deviceType"},[a("charts",{attrs:{chartData:t.option,id:"canvas",height:"100%"}})],1)])],1),a("div",{staticClass:"sectionOne-vulnLeveal"},[a("panel",[a("div",{staticClass:"sectionOne-vulnLeveal-left"},[a("charts",{attrs:{chartData:t.chartData,height:"100%",id:"chartData"}})],1),a("div",{staticClass:"vulntext"},[a("div",[a("p",[a("span",[t._v("极")]),t._v("极高风险数")]),a("p",[t._v(t._s(t.vuln_level_num[4]))])]),a("div",[a("p",[a("span",{staticStyle:{background:"#DD7C35"}},[t._v("高")]),t._v("高风险数")]),a("p",[t._v(t._s(t.vuln_level_num[3]))])]),a("div",[a("p",[a("span",{staticStyle:{background:"#E2B928"}},[t._v("中")]),t._v("中风险数")]),a("p",[t._v(t._s(t.vuln_level_num[2]))])]),a("div",[a("p",[a("span",{staticStyle:{background:"#51B323"}},[t._v("低")]),t._v("低风险数")]),a("p",[t._v(t._s(t.vuln_level_num[1]))])]),a("div",[a("p",[a("span",{staticStyle:{background:"#46A5C0"}},[t._v("末")]),t._v("极低风险数")]),a("p",[t._v(t._s(t.vuln_level_num[0]))])])])])],1)]),a("div",{staticClass:"sectionTwo"},[a("div",{staticClass:"sectionTwo-left"},[a("panel",{attrs:{title:"风险变化趋势"}},[a("div",{})])],1),a("div",{staticClass:"sectionTwo-state"},[a("panel",{attrs:{title:"服务情况"}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("div",{staticClass:"hole-record-types",staticStyle:{overflow:"auto","margin-top":"30px"}},t._l(t.serviceLists,function(e,s){return t.serviceLists.length>0?a("div",{key:s,staticClass:"hole-pic"},[a("h3",[t._v(t._s(e.total_num))]),a("h5",[t._v(t._s(e.info))])]):t._e()}))])],1)],1),a("div",{staticClass:"sectionTwo-vulnLeveal"},[a("panel",{attrs:{title:"资产情况"}},[a("div",{staticClass:"vulnChange-tasks"},[a("div",[a("div",{staticClass:"task-data-1 vulnTotal"}),a("p",[t._v(t._s(t.vulnTotalS))]),a("p",[t._v("漏洞总数")])]),a("div",{staticStyle:{"margin-right":"5px"}},[a("div",{staticClass:"task-data-1 host"}),a("p",[t._v(t._s(t.hostTotal))]),a("p",[t._v("主机数")])]),a("div",[a("div",{staticClass:"task-data-1 riskTotal"}),a("p",[t._v(t._s(t.hostvulnTotal))]),a("p",[t._v("风险总数")])]),a("div",[a("div",{staticClass:"task-data-1 hostvuln"}),a("p",[t._v(t._s(t.hostvulnTotal))]),a("p",[t._v("主机漏洞总数")])]),a("div",[a("div",{staticClass:"task-data-1 webvuln"}),a("p",[t._v(t._s(t.webvulnTotal))]),a("p",[t._v("WEB漏洞总数")])]),a("div",[a("div",{staticClass:"task-data-1 yw"}),a("p",[t._v(t._s(t.ywvulnTotal))]),a("p",[t._v("业务风险总数")])])])])],1)]),a("div",{staticClass:"sectionThree"},[a("div",{staticClass:"sectionThree-left"},[a("panel",{attrs:{title:"资产列表"}},[a("div",{},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.assetsList}},[a("el-table-column",{attrs:{prop:"assets_url",label:"域名"}}),a("el-table-column",{attrs:{prop:"assets_ip",label:"IP"}}),a("el-table-column",{attrs:{prop:"assets_os_type",label:"操作系统"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("删除")]),a("el-button",{attrs:{type:"text",size:"small"}},[t._v("修改")])]}}])})],1)],1)])],1),a("div",{staticClass:"sectionThree-state"},[a("panel",{attrs:{title:"最新风险"}},[a("div",{},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.latestRisk}},[a("el-table-column",{attrs:{prop:"date",label:"风险等级"}}),a("el-table-column",{attrs:{prop:"name",label:"目标资产"}}),a("el-table-column",{attrs:{prop:"date",label:"风险名称"}}),a("el-table-column",{attrs:{prop:"date",label:"发现时间"}}),a("el-table-column",{attrs:{prop:"date",label:"利用情况"}})],1)],1)])],1)]),a("div",{staticClass:"sectionFour"},[a("div",{staticClass:"sectionFour-left"},[a("panel",{attrs:{title:"正在执行的任务"}},[a("div",{},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.TasksInExecution}},[a("el-table-column",{attrs:{prop:"target_name",label:"任务名称"}}),a("el-table-column",{attrs:{prop:"target_url",label:"任务目标"}}),a("el-table-column",{attrs:{prop:"target_teststra",label:"策略"}}),a("el-table-column",{attrs:{prop:"target_starttime",label:"开始时间"}}),a("el-table-column",{attrs:{prop:"target_endtime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"target_struts",label:"任务状态"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("详情")])]}}])})],1)],1)])],1)]),a("div",{staticClass:"sectionFive"},[a("div",{staticClass:"sectionFive-left"},[a("panel",{attrs:{title:"待办事项"}},[a("div",{},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.todoList}},[a("el-table-column",{attrs:{prop:"date",label:"工单名称"}}),a("el-table-column",{attrs:{prop:"name",label:"工单紧急程度"}}),a("el-table-column",{attrs:{prop:"date",label:"工单类型"}}),a("el-table-column",{attrs:{prop:"date",label:"工单状态"}}),a("el-table-column",{attrs:{prop:"date",label:"发起时间"}}),a("el-table-column",{attrs:{prop:"date",label:"审批时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"}},[t._v("驳回")]),a("el-button",{attrs:{type:"text",size:"small"}},[t._v("通过")])]}}])})],1)],1)])],1)])])},n=[],l=(a("c5f6"),a("7f7f"),a("96cf"),a("3040")),r=a("0a3c"),i=a("b2f9"),o={4:{name:"极高风险",color:"red"},3:{name:"高风险",color:"#DD7C35"},2:{name:"中风险",color:"#E2B928"},1:{name:"低风险",color:"#51B323"},0:{name:"极低风险",color:"#46A5C0"}},c={components:{Panel:r["a"],Charts:i["a"]},data:function(){return{assetsList:[],latestRisk:[],TasksInExecution:[],todoList:[],serviceLists:[],vulnTotalS:0,hostTotal:0,hostvulnTotal:0,webvulnTotal:0,ywvulnTotal:0,outsideInfo:"",kb_vuln_ref:"",option:{title:{text:"漏洞修复状态(开放/关闭)",x:"center",y:"85%",textStyle:{color:"#18BB9A",fontSize:"14px"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{x:"center",y:"10%",data:["已修复","未修复"],textStyle:{color:"#d8d8d8"}},series:[{name:"访问来源",type:"pie",radius:"40%",center:["50%","50%"],color:["#47B30D","#128C96"],data:[{value:0,name:"已修复"},{value:0,name:"未修复"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},chartData:{title:{text:"漏洞等级分布",x:"right",y:"85%",textStyle:{color:"#18BB9A",fontSize:"14px"}},tooltip:{formatter:"{b} ({c})"},series:[{type:"pie",radius:"40%",center:["50%","50%"],data:[],labelLine:{normal:{show:!1}},itemStyle:{normal:{label:{show:!0,formatter:"{b} \n ({d}%)",textStyle:{color:"#128c96"}}}}}]},vuln_level_num:{0:0,1:0,2:0,3:0,4:0,5:0}}},created:function(){this.assetsInfo({is_page:1}),this.targetInfo({target_struts:0}),this.getInformation(),this.vulnrepair({target_id:0}),this.vulnTotal({target_id:0}),this.serviceTotal({target_id:0}),this.vulnTypeTotal({target_id:0})},methods:{getInformation:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.getInformation();case 2:e=t.sent,this.outsideInfo=e.data.kb[0].kb_vuln_name;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),vulnrepair:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.vulnrepair(e);case 2:a=t.sent,this.option.series[0].data[0].value=a.data.handle,this.option.series[0].data[1].value=a.data.pending;case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),assetsInfo:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.assetsInfo(e);case 2:a=t.sent,this.assetsList=a.data.rows;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),targetInfo:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.targetInfo(e);case 2:a=t.sent,this.TasksInExecution=a.data.targets;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),vulnTotal:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.vulnTotal(e);case 2:a=t.sent,this.chartData.series[0].data=a.data.vulns.map(function(t){return s.vuln_level_num[t.vuln_level]=t.vuln_total,{value:t.vuln_total,name:o[t.vuln_level].name,itemStyle:{color:o[t.vuln_level].color}}});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),serviceTotal:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.serviceTotal(e);case 2:a=t.sent,this.serviceLists=a.data.lists;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),vulnTypeTotal:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$api.vulnTypeTotal(e);case 2:a=t.sent,s=a.data.vulns,this.webvulnTotal=s[0].vuln_total,this.ywvulnTotal=s.length>1?s[1].vuln_total:0,this.vulnTotalS=Number(this.webvulnTotal)+Number(this.ywvulnTotal);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},u=c,v=(a("2977"),a("2877")),p=Object(v["a"])(u,s,n,!1,null,"3bd31d84",null);p.options.__file="index.vue";e["default"]=p.exports},aa77:function(t,e,a){var s=a("5ca1"),n=a("be13"),l=a("79e5"),r=a("fdef"),i="["+r+"]",o="​",c=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),v=function(t,e,a){var n={},i=l(function(){return!!r[t]()||o[t]()!=o}),c=n[t]=i?e(p):r[t];a&&(n[a]=c),s(s.P+s.F*i,"String",n)},p=v.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=v},b6e6:function(t,e,a){},c5f6:function(t,e,a){"use strict";var s=a("7726"),n=a("69a8"),l=a("2d95"),r=a("5dbc"),i=a("6a99"),o=a("79e5"),c=a("9093").f,u=a("11e9").f,v=a("86cc").f,p=a("aa77").trim,d="Number",f=s[d],h=f,_=f.prototype,m=l(a("2aeb")(_))==d,b="trim"in String.prototype,g=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():p(e,3);var a,s,n,l=e.charCodeAt(0);if(43===l||45===l){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===l){switch(e.charCodeAt(1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+e}for(var r,o=e.slice(2),c=0,u=o.length;c<u;c++)if(r=o.charCodeAt(c),r<48||r>n)return NaN;return parseInt(o,s)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof f&&(m?o(function(){_.valueOf.call(a)}):l(a)!=d)?r(new h(g(e)),a,f):g(e)};for(var y,w=a("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;w.length>T;T++)n(h,y=w[T])&&!n(f,y)&&v(f,y,u(h,y));f.prototype=_,_.constructor=f,a("2aba")(s,d,f)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);